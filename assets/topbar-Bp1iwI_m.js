import{A as _}from"./avatar-pZqWnf-t.js";import{b}from"./base-dropdown-C93yDGkf.js";import{g as y}from"./_commonjsHelpers-Cpj98o6Y.js";import{n as C}from"./app-BQSE6mr4.js";const s={community:"community",company_name:"company_name",kyc_documents:"kyc-documents",kyc_filename:"kyc-filename",kyc_personal:"kyc-personal-info",user:"user",user_communities:"user_communities",old_community:"old_community",previous_uri:"previous_uri",session:"propel_session",xsrf_token:"XSRF-TOKEN",accept_cookies:"accept_cookies"};var g={exports:{}};(function(n,e){(function(){var t={expires:"1d",path:"; path=/",domain:"",secure:"",sameSite:"; SameSite=Lax"},c={install:function(a,o){o&&this.config(o.expires,o.path,o.domain,o.secure,o.sameSite),a.prototype&&(a.prototype.$cookies=this),a.config&&a.config.globalProperties&&(a.config.globalProperties.$cookies=this,a.provide("$cookies",this)),a.$cookies=this},config:function(a,o,i,p,m){t.expires=a||"1d",t.path=o?"; path="+o:"; path=/",t.domain=i?"; domain="+i:"",t.secure=p?"; Secure":"",t.sameSite=m?"; SameSite="+m:"; SameSite=Lax"},get:function(a){var o=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(o&&(o.substring(0,1)==="{"&&o.substring(o.length-1,o.length)==="}"||o.substring(0,1)==="["&&o.substring(o.length-1,o.length)==="]"))try{o=JSON.parse(o)}catch{return o}return o},set:function(a,o,i,p,m,f,h){if(a){if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(a))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+a)}else throw new Error("Cookie name is not found in the first argument.");o&&typeof o=="object"&&(o=JSON.stringify(o));var r="";if(i=i??t.expires,i&&i!=0)switch(i.constructor){case Number:i===1/0||i===-1?r="; expires=Fri, 31 Dec 9999 23:59:59 GMT":r="; max-age="+i;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(i)){var u=i.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(i.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":r="; max-age="+ +u*2592e3;break;case"d":r="; max-age="+ +u*86400;break;case"h":r="; max-age="+ +u*3600;break;case"min":r="; max-age="+ +u*60;break;case"s":r="; max-age="+u;break;case"y":r="; max-age="+ +u*31104e3;break}}else r="; expires="+i;break;case Date:r="; expires="+i.toUTCString();break}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(o)+r+(m?"; domain="+m:t.domain)+(p?"; path="+p:t.path)+(f==null?t.secure:f?"; Secure":"")+(h==null?t.sameSite:h?"; SameSite="+h:""),this},remove:function(a,o,i){return!a||!this.isKey(a)?!1:(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:t.domain)+(o?"; path="+o:t.path)+"; SameSite=Lax",!0)},isKey:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=0;o<a.length;o++)a[o]=decodeURIComponent(a[o]);return a}};n.exports=c,typeof window<"u"&&(window.$cookies=c)})()})(g);var v=g.exports;const d=y(v),l=n=>localStorage.removeItem(n),k=async()=>{d.remove(s.community,null,window.APP_URL),d.remove(s.old_community,null,window.APP_URL),d.remove(s.user,null,window.APP_URL),d.remove(s.session,null,window.APP_URL),d.remove(s.xsrf_token,null,window.APP_URL),await l(s.user),await l(s.community),await l(s.user_communities),await l(s.kyc_personal),await l(s.kyc_documents),await l(s.kyc_filename),await l(s.company_name)},x="financial-services",S={components:{avatar:_,baseDropdown:b},props:{showMobile:{type:Boolean,default:!1},community:{type:Object,default:null},user:{type:Object,default:void 0},userCommunities:{type:Array,default:()=>[{name:"GirlsCanCode",logo:""},{name:"BoysCanCode",logo:""},{name:"MenCanCode",logo:""},{name:"WomenCanCode",logo:""}]}},data(){return{languages:["English","French","German"],profileDropdown:["Profile","Settings","Logout"],FINANCIAL_SERVICES:x}},computed:{isMobile(){return this.$windowWidth<=768},truncatedCommunityName(){var n,e;return this.community?((n=this.community)==null?void 0:n.name.slice(0,18))+(((e=this.community)==null?void 0:e.name.length)>18?"...":""):"Beth"},communityList(){return this.userCommunities&&this.userCommunities.length>0?this.userCommunities.filter(n=>{var e;return(n==null?void 0:n.sub_domain)!==((e=this.community)==null?void 0:e.sub_domain)}):[]},communityLogo(){var n;return(n=this.community)==null?void 0:n.logo},userPicture(){var n;return(n=this.user)==null?void 0:n.picture},userFirstName(){var n;return((n=this.user)==null?void 0:n.firstname)||"Beth"},userFullName(){var n;return`${this.userFirstName} ${(n=this.user)==null?void 0:n.lastname}`||"Beth Propel"}},async mounted(){document.addEventListener("click",this.close)},methods:{isFlag(n){var e;if((e=this.user)!=null&&e.flag_features){const{flag_features:t}=this.user;return!t.includes(n)}},joinCommunity(){this.$emit("joinCommunity")},switchCommunity(n){this.$mixpanel.log("switch_community_clicked",{feature:"switch community"}),this.$emit("switchCommunity",n)},async logout(){try{const n=await axios.post("/api/new-onboarding-logout");await k();const{redirectUrl:e}=n.data.data;window.location.href=e}catch{console.dir("Error removing user")}}}};var I=function(){var e=this,t=e._self._c;return t("header",{staticClass:"main-topbar"},[t("nav",{staticClass:"main-topbar-top"},[e.isMobile||e.showMobile?t("base-dropdown",{staticClass:"main-topbar__community",attrs:{"no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("span",{staticClass:"dropdown-toggle-inner"},[t("avatar",{attrs:{size:"24px",variant:"community-logo","image-src":e.communityLogo}}),t("span",[e._v(e._s(e.truncatedCommunityName))])],1),t("Icon",{staticClass:"dropdown-toggle-icon",attrs:{icon:"fluent:chevron-down-24-regular",width:"12px",height:"12px",color:"#788787"}})]},proxy:!0}],null,!1,4047315542)},[e._l(e.communityList,function(c,a){return t("b-dropdown-item",{key:a,on:{click:function(o){return e.switchCommunity(e.item)}}},[t("avatar",{attrs:{size:"24px",variant:"community-logo","image-src":c.logo}}),t("span",[e._v(e._s(c.name))])],1)}),t("b-dropdown-item",{on:{click:e.joinCommunity}},[t("avatar",{attrs:{size:"24px",variant:"community"}}),t("span",[e._v("Join community")])],1)],2):t("a",{staticClass:"main-topbar__left",attrs:{href:"#"}},[t("Icon",{attrs:{icon:"fluent:arrow-left-24-regular",width:"20px",height:"20px"}}),e._v(" Page Title ")],1),t("div",{staticClass:"main-topbar__right"},[!e.isMobile&&!e.showMobile?t("a",{staticClass:"main-topbar__link",attrs:{href:"#"}},[t("Icon",{attrs:{icon:"fluent:search-24-regular",width:"20px",height:"20px"}})],1):e._e(),t("a",{staticClass:"main-topbar__link",attrs:{href:"#"}},[t("Icon",{attrs:{icon:"fluent:alert-24-regular",width:"20px",height:"20px"}})],1),!e.isMobile&&!e.showMobile?t("a",{staticClass:"main-topbar__link",attrs:{href:"#"}},[t("Icon",{attrs:{icon:"fluent:question-24-regular",width:"20px",height:"20px"}})],1):e._e(),t("div",{staticClass:"d-flex align-items-center"},[!e.isMobile&&!e.showMobile?t("base-dropdown",{staticClass:"main-topbar__dropdown mr-3",attrs:{options:e.languages,"no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("span",{staticClass:"dropdown-toggle-inner"},[e._v(" "+e._s(e.languages[0])+" "),t("Icon",{attrs:{icon:"fluent:chevron-down-24-regular",width:"12px",height:"12px"}})],1)]},proxy:!0}],null,!1,2255320116)}):e._e(),t("base-dropdown",{staticClass:"main-topbar__dropdown",attrs:{options:e.profileDropdown,"no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("span",{staticClass:"dropdown-toggle-inner"},[t("avatar",{attrs:{size:e.isMobile||e.showMobile?"40px":"24px",src:e.avatarSrc}}),!e.isMobile&&!e.showMobile?t("span",[e._v(" "+e._s(e.userFirstName)+" ")]):e._e(),!e.isMobile&&!e.showMobile?t("Icon",{attrs:{icon:"fluent:chevron-down-24-regular",width:"12px",height:"12px"}}):e._e()],1)]},proxy:!0}])},[t("b-dropdown-item",{attrs:{id:"dashboardProfileLink",href:"/profile"}},[t("Icon",{attrs:{icon:"fluent:emoji-smile-slight-24-regular",width:"18",height:"18"}}),t("span",[e._v("My Profile")])],1),t("b-dropdown-item",{attrs:{id:"dashboardSavedJobsLink",href:"/talent-active-jobs"}},[t("Icon",{attrs:{icon:"fluent:toolbox-24-regular",width:"18",height:"18"}}),t("span",[e._v("My Jobs")])],1),e.isFlag(e.FINANCIAL_SERVICES)?t("b-dropdown-item",{attrs:{href:"/financial-services"}},[t("Icon",{attrs:{icon:"fluent:wallet-24-regular",width:"18",height:"18"}}),t("span",[e._v("My Wallet")])],1):e._e(),t("b-dropdown-item",{attrs:{id:"dashboardRefferalLink",href:"/referral"}},[t("Icon",{attrs:{icon:"fluent:person-add-24-regular",width:"18",height:"18"}}),t("span",[e._v("Refer a friend")])],1),t("b-dropdown-item",{attrs:{id:"dashboardSettingsLink",href:"/settings"}},[t("Icon",{attrs:{icon:"fluent:settings-24-regular",width:"18",height:"18"}}),t("span",[e._v("Settings")])],1),t("b-dropdown-item",{on:{click:function(c){return c.preventDefault(),e.logout.apply(null,arguments)}}},[t("Icon",{attrs:{icon:"fluent:sign-out-24-regular",width:"18",height:"18"}}),t("span",[e._v("Logout")]),t("Icon",{attrs:{icon:"fluent:chevron-right-24-regular",width:"14",height:"14"}})],1)],1)],1)])],1),e.isMobile||e.showMobile?t("nav",{staticClass:"main-topbar-bottom"},[t("a",{staticClass:"main-topbar__left",attrs:{href:"#"}},[t("Icon",{attrs:{icon:"fluent:arrow-left-24-regular",width:"20px",height:"20px"}}),e._v(" Page Title ")],1)]):e._e()])},M=[],w=C(S,I,M,!1,null,null);const N=w.exports;w.exports.__docgenInfo={exportName:"default",displayName:"topbar",description:"",tags:{},props:[{name:"showMobile",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"community",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"user",type:{name:"object"},defaultValue:{func:!1,value:"undefined"}},{name:"userCommunities",type:{name:"array"},defaultValue:{func:!1,value:`[
    {
        name: "GirlsCanCode",
        logo: ""
    },
    {
        name: "BoysCanCode",
        logo: ""
    },
    {
        name: "MenCanCode",
        logo: ""
    },
    {
        name: "WomenCanCode",
        logo: ""
    }
]`}}],events:[{name:"joinCommunity"},{name:"switchCommunity",type:{names:["undefined"]}}],sourceFiles:["/Users/agoiabel/code/withpropel/resources/js/components/reusables/topbar.vue"]};export{N as T};
